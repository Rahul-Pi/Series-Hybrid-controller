% =========================================================% Master file for the example "Optimal Transmission Design"% =========================================================% #####################################################################################################################clear allclose allclcwarning off% #####################################################################################################################% Global variables% ----------------    % Simulation    global t    global N_sim        global w_CE T_CE    global gear_result     global V_liter    global V_result    global first_gear second_gear third_gear fourth_gear fifth_gear diff_gear    global working_gearset;        % Combustion Engine map    global eta_CE_map    global w_CE_row    global T_CE_col    global w_CE_max    global T_CE_max           % Initialization of the optimization routine% ------------------------------------------    gear_result = [];    V_result = [];    %i_guess = [15.1740; 8.3380; 5.3780; 3.9370; 2.7480];              i_guess = [3.38; 1.76; 1.12; 0.89; 0.7; 4.45];              % Optimization routine% --------------------    disp('Optimization started...')    disp(' ')    i_opt = fminsearch('Saab93OptiGearOverload', i_guess)    disp(' ')    disp('... optimization finished!')        % Plot results% ------------    disp(' ')    %disp('Hit a key to plot results:')    %pause    %clc    % Gear ratios    fig = figure;    set(fig,'NumberTitle', 'off')    set(fig,'Name', 'Optimized gear ratios')        plot(gear_result)        xlabel('Iterations')        ylabel('Gear ratios [-]')        title('Variations of the gear ratios during the optimization')         % Fuel consumption    fig = figure;    set(fig,'NumberTitle', 'off')    set(fig,'Name', 'Fuel consumption')        plot(V_result)        xlabel('Iterations')        ylabel('Fuel consumption [l/100km]')        title('Variations in fuel consumption during the optimization')%         % #####################################################################################################################